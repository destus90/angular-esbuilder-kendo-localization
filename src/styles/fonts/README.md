# Шрифты значков проекта

> Cконвертированы с помощью [IcoMoon App](https://icomoon.io/app/) из SVG-файлов.

Содержит:

- `GapzromIcon` (для кнопок),
- `GazpromLink` (для разделов на главной);

Файл `Gazprom.json` содержит весь проект для загрузки в редакторе целиком, а файлы `*IconPackName*/selection.json` содержат соответствующие наборы значков для редактирования по-отдельности.


# Работа с редактором

[IcoMoon App](https://icomoon.io/app/) работает только с локальными данными пользователя в браузере, если не использовать учётную запись, так что файл проекта можно загрузить только один раз (если не было внешних изменений).


## Загрузка проекта

1. Открыть приложение [IcoMoon App](https://icomoon.io/app/),
2. В меню (_кнопка в верхнем левом углу_) выбрать `Manage Projects`
3. На странице управления проектами нажать `Import Project` и указать файл `Gazprom.json`
4. После выполнения импорта нажать `Load` на проекте `Gazprom`
5. Готово, можно работать с проектом!

## Импорт значков

1. В меню соответствующего набора значков (_кнопка справа в конце панели с названием набора_) выбрать `Import to Set` и в диалоге выбора файлов указать нужные SVG-значки,
2. После импорта убедиться, что значки не содержат фиксированных цветов и пригодны для конвертации — в том же меню выбрать `Properties` для открытия окна свойств, затем:
   1. В блоке `Grid Size` нажать `Reset Grid Size` и установить размер сетки:
      - **16** (для `GazpromIcon`),
      - **64** (для `GazpromLink`);
   2. В блоке `Color Theme` нажать `Remove All Colors`, если такое действие доступно;
3. В панели действий (_вверху слева от строки поиска_) выбрать **режим редактирования** (_последняя кнопка_) и для каждого добавленного значка задать свойства в диалоге метаданных, который открывается по нажатию на сам значок:
   1. Поле `Tags` оставить исходным,
   2. В поле `Names` указать код значка, который затем будет использован при генерации шрифта. Код должен быть в формате `kebab-case` и должен иметь понятное имя, соответствующее месту использования,
   3. При обновлении значка можно использовать `Replace`, чтобы загрузить новый файл, сохранив заданные ранее свойства (_однако всё же может потребоваться повторить п. 2_);
4. Готово, можно переходить к генерации шрифта!

## Экспорт значков

1. Выделить значки набора, для которого требуется сгенерировать шрифт:
   1. В меню соответствующего набора (_кнопка справа в конце панели с названием набора_) выбрать `Select All`, а в остальных, соответственно, выбрать `Deselect`,
   2. Нажать `Generate Font` (_кнопки внизу экрана_)
      1. Если приложение выдаст сообщение `Strokes get ignored when generating fonts. You can convert them to fills to prevent this.` и предложит снять выделение с "бракованных" значков, то делаем это. Затем возвращаемся к списку и находим невалидные значки и сообщаем дизайнеру для исправления.
      2. Если никаких сообщений не появилось, значит всё готово к формированию шрифта и можно продолжать;
2. Проверить настройки генератора (_значок рядом с кнопкой `Download` внизу_):
   1. Задать `Font Name` в соответствии с названием набора формируемых значков,
   2. В поле `Class Prefix` должно быть значение:
      1. для **GazpromIcon** — `app-icon_`,
      2. для **GazpromLink** — `app-shortcut__icon_`;
   3. Поле `Class Suffix` — пустое;
   4. Должна быть активна только опция `Include metadata in fonts`,
   5. В блоке `CSS Selector` должна быть выбрана опция `Use a class` со значением:
      1. для **GazpromIcon** — `.app-icon`,
      2. для **GazpromLink** — `.app-shortcut__icon`;
   6. Остальные поля оставить как есть (_метаданные должны загрузиться из проекта, а версия используется в имени файла, поэтому удобнее оставлять всегда `1.0`_);
3. Нажать `Download`, сохранить полученный архив и распаковать его:
   1. Скопировать все файлы и папки, кроме `demo.html` и `demo-files` в соответствующую папку шрифта в `src/styles/fonts` (_с заменой_)
   2. Для истории, скопировать исходные SVG-значки в `/src/styles/images/icons` с именами, соответствующими именам значков в наборе шрифтов;
4. Перейти в окно управления проектами — в меню (_кнопка в верхнем левом углу_) выбрать `Manage Projects` — и нажать `Download` на проекте `Gazprom`. Полученный файл сохранить в `/src/styles/fonts` с заменой.
5. Готово, можно использовать значки в приложении!


> Для применения значка **GazpromLink** необходимо пункту меню задать `classNames` как
`app-dashboard-shortcut`, затем установить имя значка в качестве `id` и добавить это же имя в список `$iconPack` в файле `dashboard.component.scss`.
